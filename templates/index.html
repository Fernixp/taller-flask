{% extends "base.html" %}

{% block title %}Tareas | Taller Apps{% endblock %}

{% block contenido %}
<header class="relative text-center mb-8">
    <div class="inline-flex items-center px-4 py-2 rounded-xl bg-primary/10 text-primary mb-4 border border-primary/20">
        <iconify-icon icon="solar:clipboard-list-bold-duotone" class="text-xl mr-2"></iconify-icon>
        <span class="text-[10px] font-black uppercase tracking-widest">Task Manager</span>
    </div>
    <h1 class="text-4xl font-black text-slate-900 dark:text-white mb-2">
        Mis <span class="bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-500">Tareas</span>
    </h1>
    <p class="text-slate-500 dark:text-slate-400 font-medium">{{ subtitulo }}</p>
</header>

<div class="mb-10 p-6 bg-slate-50 dark:bg-slate-800/30 rounded-3xl border border-slate-100 dark:border-slate-800">
    <form action="{{ url_for('crear_tarea') }}" method="POST" class="flex flex-col md:flex-row gap-4">
        {{ form.hidden_tag() }}
        <div class="flex-grow">
            {{ form.titulo(class="w-full px-5 py-3 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none transition-all dark:text-white", placeholder="Escribe una nueva tarea...") }}
        </div>
        <button type="submit" class="px-8 py-3 bg-primary hover:bg-primary/90 text-white font-bold rounded-2xl shadow-lg shadow-primary/30 transition-all flex items-center justify-center gap-2">
            <iconify-icon icon="solar:add-circle-bold-duotone" class="text-xl"></iconify-icon>
            Guardar
        </button>
    </form>
</div>

<div class="overflow-hidden bg-white dark:bg-slate-900/50 rounded-3xl border border-slate-100 dark:border-slate-800">
    <table class="w-full text-left border-collapse">
        <thead>
            <tr class="bg-slate-50 dark:bg-slate-800/50">
                <th class="px-6 py-4 text-xs font-black uppercase tracking-widest text-slate-400">ID</th>
                <th class="px-6 py-4 text-xs font-black uppercase tracking-widest text-slate-400">Descripción</th>
                <th class="px-6 py-4 text-xs font-black uppercase tracking-widest text-slate-400 text-center">Acciones</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-slate-100 dark:divide-slate-800">
            {% for tarea in tareas %}
            <tr class="group hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors">
                <td class="px-6 py-4 text-sm font-bold text-slate-400">#{{ tarea.id }}</td>
                <td class="px-6 py-4 text-sm font-medium text-slate-700 dark:text-slate-200">{{ tarea.titulo }}</td>
                <td class="px-6 py-4 text-center">
                    <a href="{{ url_for('eliminar_tarea', id=tarea.id) }}" 
                       class="inline-flex items-center justify-center p-2 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm"
                       title="Eliminar tarea">
                        <iconify-icon icon="solar:trash-bin-trash-bold-duotone" class="text-xl"></iconify-icon>
                    </a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="3" class="px-6 py-10 text-center text-slate-400 italic">
                    No hay tareas registradas todavía.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="mt-12 flex justify-center items-center gap-4">
    <a href="{{ url_for('about') }}" 
       class="flex items-center gap-2 px-5 py-2.5 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:border-primary hover:text-primary transition-all text-xs font-bold uppercase tracking-widest shadow-sm">
        <iconify-icon icon="solar:info-circle-bold-duotone" class="text-lg"></iconify-icon>
        Sobre el proyecto
    </a>
    
    <div class="h-1 w-1 rounded-full bg-slate-300 dark:bg-slate-700"></div>

    <a href="{{ url_for('status') }}" target="_blank" 
       class="flex items-center gap-2 px-5 py-2.5 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:border-emerald-500 hover:text-emerald-500 transition-all text-xs font-bold uppercase tracking-widest shadow-sm">
        <iconify-icon icon="solar:pulse-bold-duotone" class="text-lg"></iconify-icon>
        API Status
    </a>
</div>
{% endblock %}